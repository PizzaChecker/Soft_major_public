<!-- red 'errors' that 'occur' here are a result of jinja templeating and does not affect code in anyway -->
<div class="row mb-4">
    {% for product in products %}
        <div class="col-md-3">
            <a href="/product/{{ product['id'] }}" class="text-decoration-none text-dark">
                <div class="product-card p-3 rounded h-100" style="background-color: #f8f9fa; border: 1px solid #ddd; transition: box-shadow 0.2s; {% if product['stock'] == 0 %}opacity: 0.6;{% endif %}">
                    <img src="{{ url_for('static', filename='watch_img/watch' + product['id']|string + '.png') }}" alt="{{ product['name'] }}" class="img-fluid rounded">
                    <h5 class="mt-2">{{ product['name'] }}</h5>
                    <p class="text-muted">${{ "%.2f"|format(product['price']) }}</p>
                    {% if product['stock'] == 0 %}
                        <span class="badge bg-danger">Out of Stock</span>
                    {% endif %}
                </div>
            </a>
        </div>
        {% if loop.index % 4 == 0 and not loop.last %}
            </div><div class="row mb-4">
        {% endif %}
    {% endfor %}
</div>